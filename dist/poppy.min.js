var poppy=function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){t.exports=i(2),t.exports.Container=i(3)},function(module,exports){function group(t){group_timer||(group_timer=setTimeout(do_group,16)),t._group=1,groups.push(t)}function ungroup(t){var e=groups.indexOf(t);groups[e]=0}function do_group(){group_timer=0;var t,e,i,o,n;for(t=0,e=groups.length;t<e;t++)(i=groups[t])&&(o=i.pack,i._group=0,n=i.settings,o.targetRect=n.target.getBoundingClientRect(),n.constrainTo=i.props.constrainTo||defaults.constrainTo,n.constrainTarget=i._upwardSelector(n.constrainTo,n),o.parentRect=n.constrainTarget.getBoundingClientRect());for(t=0,e=groups.length;t<e;t++)groups[t]._updateAsync();groups.length=0}function assign_defaults(t){var e,i,o,n,r=getDefaults();for(o in t)if(void 0!==(e=t[o])&&null!==e)if("object"==typeof e&&"object"==typeof(i=r[o])&&i)for(n in e)i[n]=e[n];else r[o]=e;return r}var group_timer,groups=[],SHOWING={NONE:0,MOUSEOVER:1,CONTENT:2,CLICK:4,PROPERTY:8},LEFT=1,RIGHT=2,TOP=3,BOTTOM=4,defaults={backgroundStyle:void 0,arrowStyle:{},foregroundStyle:void 0,wrapperStyle:void 0,content:"",className:"",title:"",position:{overflow:"auto",position:"relative",top:0,height:"100%",left:0,width:"100%"},constrainTo:"parent",persistOverContent:!1,showOnMouseEnter:!0,hideOnMouseLeave:!0,bindWindowResize:!1,bindScroll:!1,toggleOnClick:!1,constrainWidth:!0,constrainHeight:!0,track:!1,arrowSize:15,region:void 0,show:void 0,showDelay:300,hideDelay:320},getDefaults=eval("(function () {return "+JSON.stringify(defaults)+";})");!function(defaults){var p,item;for(p in defaults)item=defaults[p],item&&"object"==typeof item&&(defaults[p]=eval("(function (obj) {var result ="+JSON.stringify(item)+",p; for (p in obj) {result[p]=obj[p]} return result;})"))}(defaults);var Popover=React.createClass({displayName:"Popover",shouldComponentUpdate:function(t,e){var i=this.state||{},o=e.position||{},n=this.minWidth!==o.minWidth||this.minHeight!==o.minHeight||this.maxWidth!==o.maxWidth||i.content!==e.content||i.title!==e.title||this.maxHeight!==o.maxHeight;return n},overflowStyle:{},wrapperStyle:{},render:function(){var t=this.state;if(!t)return null;var e=t.title,i=t.position,o=i.maxWidth,n=i.maxHeight,r=i.minWidth,s=i.minHeight,a=t.content,l=this.overflowStyle,h=this.wrapperStyle;return l.overflow=a?"auto":null,this.maxHeight=l.maxHeight=h.maxHeight=n,this.maxWidth=l.maxWidth=h.maxWidth=o,this.minHeight=l.minHeight=h.minHeight=s,this.minWidth=l.minWidth=h.minWidth=r,React.createElement("span",{className:"poppy "+(t.className||""),onMouseOver:this._onEnter,onMouseOut:this._onExit},React.createElement("span",{ref:"inner",className:"poppy-background"},React.createElement("div",{ref:"arrow",className:"poppy-arrow",style:t.arrowStyle}),React.createElement("div",{ref:"wrapper",className:"poppy-background-overlay",style:t.wrapperStyle})),React.createElement("div",{ref:"content",className:"poppy-content-wrapper",style:h},e?React.createElement("div",{ref:"titleWrapper",className:"poppy-title-wrapper"},React.createElement("span",{ref:"title",className:"poppy-title"},t.title)):null,React.createElement("div",{ref:"overflow",className:"poppy-overflow",style:l},a?React.createElement("div",{ref:"popover",className:"poppy-content"}," ",a||""," "):React.createElement("span",{ref:"popover"}))))},_onEnter:function(){this.state.onEnterContent&&this.state.onEnterContent(SHOWING.CONTENT)},_onExit:function(){this.state.onLeaveContent&&this.state.onLeaveContent(SHOWING.CONTENT)}}),overlay_template=document.createElement("span");overlay_template.innerHTML='<div class="poppy-container" style="position:absolute;top:0px;display:inline;pointer-events:none;z-index:6000"></div>',overlay_template=overlay_template.lastChild,module.exports=React.createClass({displayName:"exports",getInitialState:function(){var t=assign_defaults(this.props);return this._lastTargetRect={left:0,top:0,width:0,height:0},this.pack={},this.settings={arrowStyle:{width:defaults.arrowSize,height:defaults.arrowSize},constrainTo:defaults.constrainTo,showing:0,showDelay:defaults.showDelay,hideDelay:defaults.hideDelay,track:defaults.track,constrainHeight:defaults.constrainHeight,constrainWidth:defaults.constrainWidth,className:defaults.className,title:""},this.componentWillUpdate(this.props,t),t},componentDidMount:function(){var t=this,e=ReactDOM.findDOMNode(this);t.setState({target:e}),this._mount_timer=setTimeout(function(){t._updateSync(t.props,t.state)})},componentWillUnmount:function(){var t=this.state.target,e=t.ownerDocument,i=e.defaultView;this.settings&&(t=this.settings.target)&&(t.removeEventListener("mouseenter",this._onMouseEnter),t.removeEventListener("mouseleave",this._onMouseLeave),t.removeEventListener("click",this._onClick)),this.untrack(),this._resize_timer&&clearTimeout(this._resize_timer),this._show_timer&&clearTimeout(this._show_timer),this._mount_timer&&clearTimeout(this._mount_timer),this.overlay&&this.overlay.parentNode.removeChild(this.popoverEl),this._init_timer&&clearTimeout(this._init_timer),this.state.settings.bindWindowResize&&i.removeEventListener("resize",this._onResize),this._boundScroll&&this._boundScroll.removeEventListener("scroll",this._onScroll)},componentWillUpdate:function(t,e){this._updateSync(t,e),!this._group&&group(this)},_updateSync:function(t,e){e=e||this.state;var i=this.settings,o=t.bindWindowResize||!1,n=e&&e.target,r=i.target,s=t.track||!1,a=n&&n.ownerDocument.defaultView,l=t.bindScroll===!0?"window":t.bindScroll,h=this._boundScroll,p=!!i.target&&this._upwardSelector(l,i);o!==i.bindWindowResize&&(o?a&&(a.addEventListener("resize",this._onResize),i.bindWindowResize=!0):(a&&a.removeEventListener("resize",this._onResize),i.bindWindowResize=!1)),p!==h&&(h&&(h.removeEventListener("scroll",this._onScroll),this._boundScroll=!1),p&&(p.addEventListener("scroll",this._onScroll,!0),this._boundScroll=p)),s!==i.track&&(s?(i.track=!0,this.track()):(i.track=!1,this.untrack())),n&&r!==n&&(n.addEventListener("mouseenter",this._onMouseEnter),n.addEventListener("mouseleave",this._onMouseLeave),n.addEventListener("click",this._onClick),i.target=n,r&&(r.removeEventListener("mouseenter",this._onMouseEnter),r.removeEventListener("mouseleave",this._onMouseLeave),r.removeEventListener("click",this._onClick))),t.persistOverContent?(i.persistOverContent=!0,i.onEnterContent=this.show,i.onLeaveContent=this.hide):(i.persistOverContent=!1,i.onEnterContent=!1,i.onLeaveContent=!1),i.toggleOnClick=void 0!==t.toggleOnClick?t.toggleOnClick:defaults.toggleOnClick,i.showOnMouseEnter=void 0!==t.showOnMouseEnter?t.showOnMouseEnter:defaults.showOnMouseEnter,i.hideOnMouseLeave=void 0!==t.hideOnMouseLeave?t.hideOnMouseLeave:defaults.hideOnMouseLeave,i.constrainHeight=void 0!==t.constrainHeight?t.constrainHeight:defaults.constrainHeight,i.constrainWidth=void 0!==t.constrainWidth?t.constrainWidth:defaults.constrainWidth},_updateAsync:function(){if(this.settings.target){var t=this,e=this.props,i=e.show,o=this.settings,n=o.showing&SHOWING.PROPERTY,r=o.target.ownerDocument,s=r.body,a=this._upwardSelector(".poppy-container",o),l=this.popover,h=o.arrowStyle,p=void 0!==e.arrowSize?e.arrowSize:defaults.arrowSize,c=e.region;if(c&&c!==o.last_prop_region?"top"===c?o.region=TOP:"left"===c?o.region=LEFT:"right"===c?o.region=RIGHT:"bottom"===c&&(o.region=BOTTOM):c||(o.region=defaults.region),o.last_prop_region=c,o.title=e.title||defaults.title,o.content=e.content||defaults.content,o.className=e.className||defaults.className,o.arrowSize!==p&&(o.arrowSize=p,o.arrowSize3_4=.75*p,o.arrowSize1_2=.5*p,o.arrowSize2_1=2*p,o.arrowSize3_2=1.5*p,h.height=h.width=p),this._adjustPosition(this.settings),a===s&&(a=s.querySelector(".poppy-container")),a?this.overlay||(this.overlay=a):s.appendChild(a=this.overlay=overlay_template.cloneNode(!0)),l)this.overlay.ownerDocument!==r&&this.popoverEl&&(a.appendChild(this.popoverEl),this.overlay=a);else{var u=document.createElement("div");l=this.popover=ReactDOM.render(React.createElement(Popover,null),u),a.appendChild(u.lastChild)}l.setState(o),this.popoverEl||(this.popoverEl=ReactDOM.findDOMNode(l)),!this._init_timer&&requestAnimationFrame(function(){n&&!i?t.hide(SHOWING.PROPERTY):!n&&i&&t.show(SHOWING.PROPERTY),t._init_timer=!1,t._updatePositions()})}},_onResize:function(){var t=this;this._resize_timer&&clearTimeout(this._resize_timer),this._resize_timer=setTimeout(function(){t._resize_timer=void 0,t.setState({})},60)},_onMouseEnter:function(){this.settings.showOnMouseEnter&&this.show(SHOWING.MOUSEOVER)},_onMouseLeave:function(){this.settings.hideOnMouseLeave&&this.hide(SHOWING.MOUSEOVER)},_onClick:function(){this.settings.toggleOnClick&&(this.settings.showing&SHOWING.CLICK?this.hide(SHOWING.CLICK):this.show(SHOWING.CLICK))},_adjustPosition:function(t){var e=this.pack.targetRect,i=this.pack.parentRect,o=t.region,n=t.leftSpace=e.left-i.left,r=t.rightSpace=i.left+i.width-(e.left+e.width),s=t.topSpace=e.top-i.top,a=t.bottomSpace=i.top+i.height-(e.top+e.height),l=t.arrowSize,h=t.position,p=t.arrowSize3_4,c=t.constrainHeight,u=t.constrainWidth,d=2*l;h||(h=t.position={}),o||(o=n>a&&n>s&&n>=r&&s>30&&a>30?t.region=LEFT:r>a&&r>s&&s>30&&a>30?t.region=RIGHT:s>a?t.region=TOP:t.region=BOTTOM),o===LEFT?(h.minWidth=0,h.minHeight=d,h.top=h.left=0,u&&(h.maxWidth=Math.max(n-p-25,d)),c&&(h.maxHeight=Math.max(s+a+e.height-30,5))):o===RIGHT?(h.minWidth=0,h.top=0,h.minHeight=d,h.left=e.left+e.width+p,u&&(h.maxWidth=Math.max(r-p-25,d)),c&&(h.maxHeight=Math.max(s+a+e.height-30,5))):o===BOTTOM?(h.minHeight="auto",h.top=e.top+e.height+p,h.left=0,h.minWidth=d,c&&(h.maxHeight=Math.max(a-p-5,25)),u&&(h.maxWidth=Math.max(n+r+e.width-30,25))):(h.minHeight="auto",h.top=h.left=0,h.minWidth=d,c&&(h.maxHeight=Math.max(s-p+2,25)),u&&(h.maxWidth=Math.max(n+r+e.width-30,25)))},_onScroll:function(){!this._group&&group(this)},_track_timer:void 0,_doTrack:function(){this._track_timer=setTimeout(this._doTrack,16);var t=this.settings,e=t.target;e&&this.popover&&!this._group&&group(this)},track:function(){return this._track_timer||(this._track_timer=setTimeout(this._doTrack,16)),this},untrack:function(){return this._track_timer&&(clearTimeout(this._track_timer),this._track_timer=!1),this},refresh:function(){return this.setState({}),this},hide:function(t){var e=this,i=this.settings,o=i.showing;if(o&&o&t){i.showing-=t;var n=this.popoverEl,r=n.style;this._show_timer&&clearTimeout(this._show_timer),this._show_timer=setTimeout(function(){i.showing||(!n.$listener&&n.addEventListener("transitionend",n.$listener=function(){n.removeEventListener("transitionend",n.$listener),n.$listener=!1,!i.showing&&(n.style.visibility="hidden")}),e._show_timer=void 0,r.transition="all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",i.region===RIGHT?r.transform="translateX(30px)translateY(0px)":i.region===LEFT?r.transform="translateX(-30px)translateY(0px)":i.region===TOP?r.transform="translateX(0px)translateY(-30px)":r.transform="translateX(0px)translateY(30px)",r.opacity=0,e.props.onHide&&e.props.onHide())},i.hideDelay)}},show:function(t){var e=this,i=this.settings,o=this.popoverEl,n=o.style,r=!0,s=i.showing;i.showing|=t,s||(this._show_timer&&(clearTimeout(this._show_timer),this._show_timer=void 0,r=!1),o.$listener&&o.removeEventListener("transitionend",o.$listener),o.$listener=!1,r?this._show_timer=setTimeout(function(){i.showing&&(e.props.onShow&&e.props.onShow(),e._show_timer=void 0,n.transition=null,i.region===RIGHT?n.transfrom="translateX(30px)translateY(0px)":i.region===LEFT?n.transform="translateX(-30px)translateY(0px)":i.region===TOP?n.transform="translateX(0px)translateY(-30px)":n.transform="translateX(0px)translateY(30px)",e._show_timer=setTimeout(function(){e._show_timer=void 0,n.transition="all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",n.visibility=null,n.opacity=1,n.transform="translateX(0px)translateY(0px)"},i.showDelay))}):(n.transition="all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",n.visibility=null,n.opacity=1,n.transform="translateX(0px)translateY(0px)"))},_upwardSelector:function(t,e){var i=e.target,o=i.ownerDocument;if(!t)return t;if("string"==typeof t){if("body"===t)return o.body;if("parent"===t)return i&&i.parentNode;if("window"===t)return i&&i.ownerDocument.defaultView;for(;i;){if(i.matches&&i.matches(t))return i;i=i.parentNode}return o.body}return(i=ReactDOM.findDOMNode(t))?i:t},_updatePositions:function(){var t=this.settings.target;if(t){var e,i,o,n,r,s,a,l,h=this.popover.refs.overflow,p=h.style,c=this.popover.refs.wrapper.style,u=this.popover.refs.arrow,d=u.style,m=this.popover.refs.content.style,g=this.settings,f=this.popover.refs.title,v=f&&f.getBoundingClientRect(),_=this.pack.targetRect,w=this.pack.parentRect,y=v&&v.width||0,E=v&&v.height||0,x=_.top,S=_.width,O=S/2,T=_.height,R=T/2,M=_.left,H=i=w.top,C=o=w.left,W=0|o,N=0|i,L=g.region,k=g.leftSpace,z=g.topSpace,b=0|g.arrowSize,D=g.arrowSize1_2,I=g.arrowSize3_4,P=g.arrowSize2_1,G=g.arrowSize3_2,Y=g.position.left,X=g.position.top;p.paddingTop=E+"px",p.maxHeight=Math.max(Math.round(this.settings.position.maxHeight-E),0)+"px",e=h.getBoundingClientRect(),n=Math.max(e.width,y),r=e.height,this.settings.target&&(L===TOP||L===BOTTOM?(a=5,s=C+w.width-5,o=M+O-n/2,o<a&&(o=a),(l=M+S-G)<a&&(o=l),o>(l=s-n)&&(o=l),(l=M+b)>s&&(o=l-n),W+=k+O-b,W=Math.max(Math.min(W,o+n-P),o)+D,Y=o,L===TOP?(X=x-r-I-9,N=X+r-D):N=X-D):L!==LEFT&&L!==RIGHT||(i+=z+T-R-r/2,s=H+w.height-5,a=5,i<a&&(i=a),(l=x+T-G)<a&&(i=l),i>(l=s-r)&&(i=l),(l=x+b)>s&&(i=l-r),N+=z+R-b,N=Math.max(Math.min(N,i+r-P),i)+D,X=i,L===LEFT?(Y=M-n-I-6,W=Y+n-D-1):(Y=M+S+I,W=Y-D+1)),m.width=c.width=(0|n)+"px",d.top=(0|N)+"px",d.left=(0|W)+"px",c.top=m.top=(0|X)+"px",c.left=m.left=(0|Y)+"px",c.height=(0|r)+"px",this.settings.showing&&this.popoverEl.style.visiblity&&(this.popoverEl.style.visiblity=null))}},render:function(){var t=this.props.children;return"string"==typeof t&&(t=React.createElement("span",null,t)),t||null}})},function(t,e){t.exports=React.createClass({displayName:"exports",shouldComponentUpdate:function(){return!this.loaded&&(this.loaded=!0)},render:function(){return React.createElement("div",{className:"poppy-container",style:{position:"absolute",display:"inline",top:0,pointerEvents:"none",zIndex:6e3}})}})}]);